{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/blog/others/cra 환경설정-2/","result":{"data":{"markdownRemark":{"html":"<p>추가적으로 설정하면 좋은 내용을 덧붙인다.</p>\n<h2>저장 시 자동 포매팅</h2>\n<p>최상위 디렉토리에서 <code>.vscode/settings.json</code>를 만들고 다음과 같이 입력한다.</p>\n<pre class=\"grvsc-container abyss grvsc-ps-t4tStz\" data-language=\"json\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-3 grvsc-t4tStz-2\">// .vscode/settings.json</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-t9ljLd-8 grvsc-t4tStz-7\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-t9ljLd-15 grvsc-t9ljLd-i grvsc-t4tStz-3\">&quot;eslint.validate&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;javascript&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;javascriptreact&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;typescript&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;typescriptreact&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">  ],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-t9ljLd-15 grvsc-t9ljLd-i grvsc-t4tStz-3\">&quot;editor.codeActionsOnSave&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-t9ljLd-15 grvsc-t9ljLd-i grvsc-t4tStz-3\">&quot;source.fixAll.eslint&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-t9ljLd-4 grvsc-t4tStz-3\">true</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">## 린트 관련 명령어 추가</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">`package.json`파일에 아래의 script를 추가한다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">```json</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-3 grvsc-t4tStz-2\">// package.json</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">  ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;scripts&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-t9ljLd-8 grvsc-t4tStz-7\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-t9ljLd-15 grvsc-t9ljLd-i grvsc-t4tStz-3\">&quot;lint&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;eslint </span><span class=\"grvsc-t9ljLd-4 grvsc-t4tStz-3\">\\&quot;</span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">src/**/*.{js,jsx,ts,tsx,json}</span><span class=\"grvsc-t9ljLd-4 grvsc-t4tStz-3\">\\&quot;</span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-t9ljLd-15 grvsc-t9ljLd-i grvsc-t4tStz-3\">&quot;lint:fix&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;eslint --fix </span><span class=\"grvsc-t9ljLd-4 grvsc-t4tStz-3\">\\&quot;</span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">src/**/*.{js,jsx,ts,tsx,json}</span><span class=\"grvsc-t9ljLd-4 grvsc-t4tStz-3\">\\&quot;</span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">  },</span></span></span></code></pre>\n<h3>문제점 찾기</h3>\n<pre class=\"grvsc-container abyss grvsc-ps-t4tStz\" data-language=\"bash\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">yarn lint</span></span></span></code></pre>\n<h3>문제점 수정</h3>\n<pre class=\"grvsc-container abyss grvsc-ps-t4tStz\" data-language=\"bash\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">yarn lint:fix </span><span class=\"grvsc-t9ljLd-3 grvsc-t4tStz-2\"># 자동으로 문제있는 부분들을 수정한다.</span></span></span></code></pre>\n<h2>Extension 설치 권유</h2>\n<p>팀원에게 eslint, prettier 익스텐션을 설치하라고 권유할 수 있다.<br>\n프로젝트 환경을 공유할 때 유용하다.<br>\n최상위 디렉토리에서 <code>.vscode/extensions.json</code>를 만들고 다음과 같이 입력한다.</p>\n<pre class=\"grvsc-container abyss grvsc-ps-t4tStz\" data-language=\"json\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-3 grvsc-t4tStz-2\">// .vscode/extensions.json</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-t9ljLd-15 grvsc-t9ljLd-i grvsc-t4tStz-3\">&quot;recommendations&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">: [</span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;dbaeumer.vscode-eslint&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;esbenp.prettier-vscode&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">}</span></span></span></code></pre>\n<blockquote>\n<p>더 추가하고 싶다면 배열 안에 Extension Identifier를 넣어주면 된다.</p>\n</blockquote>\n<h2>pre-commit 시점 검증로직 추가</h2>\n<p>커밋 전 ESLint와 타입스크립트 검증 로직을 넣어보자.</p>\n<h3>모듈 설치</h3>\n<pre class=\"grvsc-container abyss grvsc-ps-t4tStz\" data-language=\"bash\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">yarn add -D husky lint-staged npm-run-all</span></span></span></code></pre>\n<blockquote>\n<p><code>husky</code>: Git Hooks를 다루기 위해 사용<br>\n<code>lint-staged</code>: 커밋될 파일만 Lint검사하기 위해 사용<br>\n<code>npm-run-all</code>: 스크립트 병렬실행</p>\n</blockquote>\n<h3>스크립트 작성 &#x26; husky init</h3>\n<p><code>prepare</code>라는 스크립트를 만들어주고 실행한다.</p>\n<blockquote>\n<p>prepare 스크립트를 설정해 놓으면 yarn install시 <strong>자동</strong>으로 실행된다.</p>\n</blockquote>\n<pre class=\"grvsc-container abyss grvsc-ps-t4tStz\" data-language=\"bash\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">npm set-script prepare </span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;husky install&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">npm run prepare </span><span class=\"grvsc-t9ljLd-3 grvsc-t4tStz-2\"># .husky 폴더 생성됨</span></span></span></code></pre>\n<h3>pacakage.json 스크립트 작성</h3>\n<pre class=\"grvsc-container abyss grvsc-ps-t4tStz\" data-language=\"json\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-3 grvsc-t4tStz-2\">// pacakage.json</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;scripts&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-t9ljLd-8 grvsc-t4tStz-7\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-t9ljLd-15 grvsc-t9ljLd-i grvsc-t4tStz-3\">&quot;lint:fix&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;eslint --fix </span><span class=\"grvsc-t9ljLd-4 grvsc-t4tStz-3\">\\&quot;</span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">src/**/*.{js,jsx,ts,tsx,json}</span><span class=\"grvsc-t9ljLd-4 grvsc-t4tStz-3\">\\&quot;</span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-t9ljLd-15 grvsc-t9ljLd-i grvsc-t4tStz-3\">&quot;lint-staged&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;lint-staged&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-t9ljLd-15 grvsc-t9ljLd-i grvsc-t4tStz-3\">&quot;check-types&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;tsc --project tsconfig.json --pretty --noEmit&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-t9ljLd-15 grvsc-t9ljLd-i grvsc-t4tStz-3\">&quot;validate&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;npm-run-all --parallel check-types &amp;&amp; lint-staged&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;lint-staged&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-t9ljLd-15 grvsc-t9ljLd-i grvsc-t4tStz-3\">&quot;*.{js,jsx,ts,tsx}&quot;</span><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&quot;yarn run lint:fix&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">  }</span></span></span></code></pre>\n<h3>pre-commit 훅 작성</h3>\n<pre class=\"grvsc-container abyss grvsc-ps-t4tStz\" data-language=\"bash\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-t4tStz-1\">npx husky add .husky/pre-commit </span><span class=\"grvsc-t9ljLd-11 grvsc-t4tStz-10\">&#39;yarn validate&#39;</span></span></span></code></pre>\n<p>이제 커밋 시점에 설정한 스크립트를 실행한다.</p>\n<blockquote>\n<p>단점으로 pre-commit을 사용하게 되면 커밋 속도가 느려진다.</p>\n</blockquote>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .abyss { background-color: #000c18; }\n  .abyss .grvsc-t9ljLd-i { font-style: italic; }\n  .abyss .grvsc-t9ljLd-3 { color: #384887; }\n  .abyss .grvsc-t9ljLd-1 { color: #6688CC; }\n  .abyss .grvsc-t9ljLd-8 { color: #F8F8F0; }\n  .abyss .grvsc-t9ljLd-15 { color: #9966B8; }\n  .abyss .grvsc-t9ljLd-11 { color: #22AA44; }\n  .abyss .grvsc-t9ljLd-4 { color: #F280D0; }\n  .abyss .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n  body[data-theme=dark] .grvsc-ps-t4tStz { color: #ffffff; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-2 { color: #A19B8F; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-1 { color: #FFFFFF; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-7 { color: #FAFBFC; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-3 { color: #66B5F6; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-10 { color: #9DCDF5; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n</style>","frontmatter":{"title":"CRA - TS & ESLint & prettier 환경 설정 (2)","desc":"","thumbnail":null,"date":"2022-10-03","category":"others"}}},"pageContext":{"slug":"/blog/others/cra 환경설정-2/"}},"staticQueryHashes":["1840460387"]}